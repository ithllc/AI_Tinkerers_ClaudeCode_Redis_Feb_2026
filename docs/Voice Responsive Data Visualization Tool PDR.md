# Voice Responsive Data Visualization Tool PDR

# Product Requirement Document (PRD)

1\. Executive Summary
The "VoxVisual" tool allows users to perform hands-free data analysis. It transforms spoken queries into high-fidelity, animated SVG visualizations. Unlike static dashboards, the UI is ephemeral and generated on-demand, powered entirely by the **Anthropic Claude API** for intelligence and the **Redis Agent Memory Server** to maintain a dual-tier "conversational memory" of the data exploration — ephemeral working memory for the current session and persistent long-term memory for cross-session intelligence. The proof-of-concept ships with a built-in demo dataset: **PedalForce Bicycles** 2025 sales data, stored as JSON in Redis.

2\. User Personas
The Busy Executive: Needs quick insights while multitasking; uses voice to "ask" for trends.
The Field Engineer: Uses hands-free commands to visualize sensor data on a tablet while working on equipment.

3\. Functional Requirements
FR1: Audio Stream Handling: Capture user voice, convert to text, and detect "intent."
FR2: Generative SVG UI: Generate valid React/SVG code that includes \<animate\> or CSS keyframe animations. All generation is performed by the **Anthropic Claude API** (model: `claude-sonnet-4-5-20250929`).
FR3: Stateful Analysis (Working Memory): Maintain the current session's conversation history, active filters, and visual theme in the Redis Agent Memory Server's **Working Memory** layer (scoped by `session_id`). This enables contextual follow-ups (e.g., "Zoom in on that" refers to the previous chart). Working memory auto-summarizes when the context window threshold is reached, so extended sessions remain performant.
FR4: Persistent User Intelligence (Long-term Memory): Automatically extract and store user preferences (e.g., preferred visual theme, common data sources, chart style choices) and past visualization events as **Long-term Memory** records in the Redis Agent Memory Server. Semantic search over long-term memory allows the system to recall relevant past analyses across sessions (e.g., "Show me something like the Q3 report I asked for last week").
FR5: Demo Dataset & Data Connector: The system ships with a **PedalForce Bicycles** demo dataset — a fictional bicycle company's 2025 sales data covering monthly revenue, units sold, product categories (Road Bikes, Mountain Bikes, E-Bikes, Kids Bikes, Accessories), and four sales regions (North, South, East, West). The dataset is stored as a Redis JSON document and accessed through a `fetch_data` tool that Claude calls to retrieve, filter, and aggregate the data on demand. A user should be able to say: *"Connect to the PedalForce dataset and let's look at the 2025 sales data"* to begin exploring.
FR6: Audio Feedback: Read back insights using Text-to-Speech (TTS).

4\. User Experience (UX) Goals
Zero-Latency Feel: Use "loading" animations generated by the previous state while the next UI is being built.
Visual Continuity: SVGs should morph or transition smoothly between data states.
Cross-Session Continuity: The system remembers the user's preferences and past explorations, enabling a personalized experience from the first query of every new session.

5\. Demo Interaction Script
The following is the canonical walkthrough for the proof-of-concept demo:
1. User presses the microphone button and says: **"Connect to the PedalForce dataset and let's look at the 2025 sales data."**
2. The system retrieves the PedalForce dataset from Redis, sends context to Claude, and renders an animated SVG bar chart showing total 2025 revenue by product category.
3. Claude reads back via TTS: *"PedalForce Bicycles had $14.2 million in total 2025 revenue. E-Bikes led with $4.8 million, followed by Mountain Bikes at $3.6 million."*
4. User says: **"Break that down by quarter."**
5. The SVG morphs into a grouped bar chart (categories x quarters) with animated transitions.
6. User says: **"Show me just the East region."**
7. The chart filters to East-region data, keeping the quarterly breakdown and visual theme.
8. User says: **"What was our best month?"**
9. Claude responds with a highlighted single-month SVG and TTS: *"June 2025 was the best month in the East region with $187K in revenue, driven by a spike in E-Bike sales."*
